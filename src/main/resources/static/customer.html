<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Customer page</title>
</head>
<body>
	<h1>This is the customer page.</h1>
	<p>Only logged in users can see this page.</p>
	<img src="/img/img.png" height="500">
	<form id="form" method="POST" action="/api/address">
		<label>street</label><input id="street" type="text" name="street"/>
		<label>city</label><input id="city" type="text" name="city"/>
		<label>postal</label><input id="postal" type="text" name="postalCode"/>
		<label>country</label><input id="country" type="text" name="country"/>
		<input type="submit" placeholder="submit"/>
	</form>
<script>
	document.getElementById("form").addEventListener("submit", ev => {
        ev.preventDefault();
        const street = document.getElementById("street").value;
        const city = document.getElementById("city").value;
        const postal = document.getElementById("postal").value;
        const country = document.getElementById("country").value;
        fetch("http://localhost:8080/api/address", {
            headers: {
                'Content-Type': 'application/json'
            },
            method: "POST",
            body: JSON.stringify({street, city, country, "postalCode": postal}),
            credentials: "same-origin",
		}).then(res => res.text()).then(console.log)
	})
</script>
</body>
</html>